<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Monte Carlo Simulation for REDD+ uncertainty analysis • mocaredd</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Monte Carlo Simulation for REDD+ uncertainty analysis">
<meta name="description" content="functions and a shiny app for (1) setting up, (2) running Monte Carlo Simulations and (3) producing improved estimates of and confidence intervals around greenhouse gas emissions and emission reductions from the forestry sector.">
<meta property="og:description" content="functions and a shiny app for (1) setting up, (2) running Monte Carlo Simulations and (3) producing improved estimates of and confidence intervals around greenhouse gas emissions and emission reductions from the forestry sector.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mocaredd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/tuto-template.html">Guideline for building {mocaredd} workbook</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openforis/mocaredd/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<!-- badges: end -->
<div class="section level1">
<div class="page-header"><h1 id="welcome-to-mocaredd-v10">Welcome to {mocaredd} v1.0!<a class="anchor" aria-label="anchor" href="#welcome-to-mocaredd-v10"></a>
</h1></div>
<p>{mocaredd} = Monte Carlo Simulations for REDD+ uncertainty analysis</p>
<div class="section level3">
<h3 id="mocaredd-is-a-free-and-opensource-application-that-aims-at-making-simulation-based-uncertainty-calculations-for-redd-easier-to-process-report-and-verify">{mocaredd} is a free and opensource application that aims at making simulation-based uncertainty calculations for REDD+ easier to process, report and verify.<a class="anchor" aria-label="anchor" href="#mocaredd-is-a-free-and-opensource-application-that-aims-at-making-simulation-based-uncertainty-calculations-for-redd-easier-to-process-report-and-verify"></a>
</h3>
<p>It works by combining the strengths of spreadsheet tools (XLSX) for templating and a statistical language (R) for running the simulations, aggregating results and producing helpful visuals.</p>
<!-- new section -->
</div>
<div class="section level2">
<h2 id="what-for">What for?<a class="anchor" aria-label="anchor" href="#what-for"></a>
</h2>
<p>In the context of the REDD+ mechanism (Reducing emission from Deforestation and forest Degradation “plus”), countries can receive result-based payments for emission reductions and removal increases of greenhouse gas (GHG) from the forestry sector. Emission reductions are estimated by quantifying the amount of greenhouse gas emissions between a reference level (i.e baseline) and a monitorig period. These estimates come with a level of uncertainty due to the sampling methods and models used to generate the estimations.</p>
<p>High integrity REDD+ standards, that set rules for the quantification of emissions and removals, and their uncertainties, increasingly require the use of Monte Carlo simulations for REDD+ uncertainties. These simulations are often run in spreadsheet tools, but the lack of structure and inherent disadvantage of spreadsheets for this task (error prone, difficulty to handle large amount of data) is becoming a barrier for the quality, reproducibility and verification of uncertainties based on simulations.</p>
<p>{mocaredd} provides a template for organizing data, and a tool that takes the data, runs Monte Carlo Simulations and produces improved estimates of and confidence intervals around greenhouse gas emissions and emission reductions from the forestry sector (REDD+).</p>
<!-- new section -->
</div>
<div class="section level2">
<h2 id="how-to-run-the-application-">How to run the application ?<a class="anchor" aria-label="anchor" href="#how-to-run-the-application-"></a>
</h2>
<p>The application is available online (read-to-use) at: <a href="https://openforis-shiny.shinyapps.io/mocaredd/" class="external-link uri">https://openforis-shiny.shinyapps.io/mocaredd/</a></p>
<p>It can also be installed for offline use (require installing R and Rstudio, may require administrator permission). The app require R version 3.4 minimum. RStudio is recommended as Integrated Development Environment. With Windows machines, Rtools should also be installed:</p>
<ul>
<li><a href="">https://cloud.r-project.org/</a></li>
<li><a href="">https://posit.co/download/rstudio-desktop/</a></li>
<li><a href="">https://cran.r-project.org/bin/windows/Rtools/</a></li>
</ul>
<p>R and Rstudio are installed, open R studio and run the folloing code in the terminal:</p>
<pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/openforis/mocaredd" class="external-link">mocaredd</a></span><span class="op">)</span><span class="op">)</span> <span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"openforis/mocaredd@v1.0"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mocaredd</span><span class="fu">::</span><span class="fu"><a href="reference/shiny_run_mocaredd.html">shiny_run_mocaredd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<!-- new section -->
</div>
<div class="section level2">
<h2 id="step-by-step-app-workflow">Step-by-Step app workflow<a class="anchor" aria-label="anchor" href="#step-by-step-app-workflow"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>The app provides a template spreadsheet to download, either directly in the app or here (see Resources below):</p></li>
<li>
<p>The user fills in the spreadsheet 4 tabs:</p>
<ol style="list-style-type: decimal">
<li><p><strong>User inputs</strong> (user_inputs). Helps offering great flexibility with a minimum number of parameters.</p></li>
<li><p><strong>Time periods</strong> (time_periods). Describes the times periods covered by the data and how they are combined into reference or reporting.</p></li>
<li><p><strong>Land use transitions</strong> (AD_lu_transitions). Describes the probability density functions (PDFs) for the land use change areas for each time period</p></li>
<li><p><strong>Carbon stocks</strong> (c_stocks). Contains the probability density functions for all the carbon elements necessary to associate emission or removal factors to all land use changes and time periods.</p></li>
</ol>
</li>
<li><p>The user upload the filled template into the tool.</p></li>
<li>
<p>The app run checks:</p>
<ol style="list-style-type: decimal">
<li><p>verifies that all connections between time periods, land use changes and carbon elements are correctly entered,</p></li>
<li><p>provides an overview of the data (number of time periods, carbon pools, method for forest degradation, etc.),</p></li>
<li><p>calculates the arithmetic mean of aggregated emission reductions (no simulation yet).</p></li>
<li><p>makes land use change matrices in ha.</p></li>
</ol>
</li>
<li>
<p>If all checks are passed, the app runs the simulations:</p>
<ol style="list-style-type: decimal">
<li><p>for each PDF, the determined number of simulations is randomly generated, then</p></li>
<li><p>the carbon accounting chain of calculations is created based on the data uploaded,</p></li>
<li><p>the simulations are aggregated to emissions per land use change, emissions and removals per REDD+ activity and time period, emissions reduction and increased removals for each monitoring period in the data.</p></li>
<li><p>The improved estimates and their confidence intervals are reported as the median and quantiles of the simulations at each stage of the aggregation.</p></li>
</ol>
</li>
<li><p>A sensitivity analysis is run to provide the respective contributions of REDD+ activities, activity data and emission factors, and time periods to the overall uncertainty.</p></li>
</ol>
<!-- new section -->
</div>
<div class="section level2">
<h2 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<ul>
<li><p>Online app: <a href="https://openforis-shiny.shinyapps.io/mocaredd/" class="external-link uri">https://openforis-shiny.shinyapps.io/mocaredd/</a></p></li>
<li><p>Online documentation: <a href="https://openforis.github.io/mocaredd/" class="uri">https://openforis.github.io/mocaredd/</a></p></li>
<li>
<p>Template guidelines: <a href="https://openforis.github.io/mocaredd/articles/tuto-template.html" class="uri">https://openforis.github.io/mocaredd/articles/tuto-template.html</a></p>
<ul>
<li><p>Template simple (2 time periods, 12 land use changes classes, 2 carbon pools, inc. simulations in Excel for comparison): <a href="https://docs.google.com/spreadsheets/d/19ySu_L4aI3tepq9FbYksbBa0yNi4s49c/edit?usp=sharing&amp;ouid=104053208207168605668&amp;rtpof=true&amp;sd=true" class="external-link">Example2-with-sims.xlsx</a></p></li>
<li><p>Template intermediate (4 time periods, 48 land use change classes, 4 carbon pools): <a href="https://docs.google.com/spreadsheets/d/1H9yfPCSfSELgW506OIHqS-15hJtTECHB/edit?usp=sharing&amp;ouid=104053208207168605668&amp;rtpof=true&amp;sd=true" class="external-link">Example1-4pools.xlsx</a></p></li>
</ul>
</li>
<li><p>Github repository: <a href="https://github.com/openforis/mocaredd" class="external-link uri">https://github.com/openforis/mocaredd</a></p></li>
<li><p>Contact form: <a href="https://forms.gle/YZy4xmviSMvUT8DJ9" class="external-link">Contact us</a></p></li>
</ul>
<!-- new section -->
</div>
<div class="section level2">
<h2 id="planned-features">Planned features<a class="anchor" aria-label="anchor" href="#planned-features"></a>
</h2>
<ul>
<li>Improve the template guidelines with examples from real cases.</li>
<li>Improve the sensitivity analysis.</li>
<li>Develop the template tab and calculations for annual processes (removals, soil organic carbon).</li>
<li>Develop the template and calculations for bootstrap from raw data.</li>
<li>Add truncated PDFs support.</li>
<li>Add IPCC tier 1 uncertainties propagation around the arithmetic means.</li>
</ul>
<!--

Current features:

-   Download a demo template with user inputs, time periods, land use change areas, carbon elements.
-   User filled template submission to the tool,
-   Verification of template integrity,
-   Build calculation chain from input data to greenhouse gas emission reductions (ER)
-   Calculate arithmetic mean ERs from input data
-   Run simulations for all variables and reproduce calculation chain for each simulation
-   Calculate the median of simulated ERs as a better estimate than the arithmetic mean
-   Calculate uncertainty as quantiles of simulations at the chosen level
-   Show medians and confidence intervals at intermediate level (REDD+ activities, activity data and emission factors)
-   Show sansitivity analysis

-->
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/openforis/mocaredd/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/openforis/mocaredd/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mocaredd</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Gael Sola <br><small class="roles"> Author, maintainer </small>   </li>
<li>Javier Garcia Perez <br><small class="roles"> Author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/openforis/mocaredd/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/openforis/mocaredd/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gael Sola, Javier Garcia Perez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
